/* =========================
   Theme tokens
   ========================= */
:root{
  --bg:#ffffff;
  --text:#0b0b0c;
  --muted:#6b7280;
  --border:#e5e7eb;
  --hover:#f5f7fa;
  --brand:#0b0b0c;
  --container: 1400px;
  --nav-h: 85px;
  --radius: 12px;
  --space: 16px;
  --sidebar-width: 320px;
  --rhs-width: 320px;

  /* unified sizing for cards + RHS */
  --gap: 16px;                 /* same gap used in the grids */
  --card-min: 200px;
  --card-pref: 35vh;
  --card-max: 400px;

   /* one row height for cards */
  --card-row-h: clamp(var(--card-min), var(--card-pref), var(--card-max));

  /* total height of a 2x2 grid = 2 rows + one gap */
  --content-block-h: calc((var(--card-row-h) * 2) + var(--gap));
}

/* Base */
*{box-sizing:border-box}
html,body{margin:0}
body{
  font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  color:var(--text);
  background:var(--bg);
}

a{color:inherit;text-decoration:none}

/* =========================
   Header & Nav
   ========================= */

.header{
  position:sticky;
  top:0;
  z-index:1000;
  background:rgba(255,255,255,.9);
  backdrop-filter:saturate(1.2) blur(6px);
  border-bottom:1px solid var(--border);
}

.nav-wrap{
  max-width:var(--container);
  margin:0 auto;
  height:var(--nav-h);
  display:grid; 
  grid-template-columns:auto 1fr auto;
  align-items:center; 
  gap:20px; 
  padding:0 16px;
}

.logo-img{ 
    height:33px; 
    width:auto; 
    display:block 
}

.nav {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 8px;
  height: 100%;
}

.nav > details, .nav > a{ 
    position:relative; 
    height:auto 
}

/* Links / triggers */
.trigger, .link{
  display:inline-flex; 
  align-items:center; 
  gap:6px;
  height:40px; 
  padding:0 10px; 
  border-radius:8px;
  font-size:16px; 
  font-weight:600; 
  line-height:1;
}
.trigger:hover, .link:hover{
  background:none;
  text-decoration:underline; 
  text-underline-offset:3px;
}

.nav summary{ cursor: pointer; }

/* Dropdown panel (default wide) */
.panel{
  position:absolute; 
  top:48px; 
  left:0;
  width:min(960px,95vw);
  background:#fff; 
  border:1px solid var(--border);
  border-radius:12px; 
  box-shadow:0 10px 30px rgba(0,0,0,.08);
  padding:12px;
}
.panel ul{ 
    list-style:none; 
    margin:0; 
    padding:0 
}
.panel li a{ 
    display:block; 
    padding:6px 10px; 
    border-radius:6px; 
    font-size:14px 
}
.panel li a:hover{ background:var(--hover) }

/* Narrow variant for Location menu */
.panel-narrow{ width:260px; }

/* Right buttons */
.right{ 
    display:flex; 
    align-items:center; 
    gap:8px 
}
.pill, .cta{ 
    cursor:pointer; 
    border-radius:6px; 
    font-size:14px; 
    font-weight:600 
}

/* Primary (filled) */
.pill{
  background:#4f75ff; color:#fff;
  border:1px solid #000;
  padding:8px 12px;
  transition:background .2s;
}
.pill:hover{ background:#3b5ed9 }

/* Secondary (outline) */
.cta{
  background:#fff; color:var(--text);
  border:1px solid #000;
  padding:9px 12px;
}
.cta:hover{ background:var(--hover) }

/* Mobile */
@media (max-width:880px){
  .nav{ display:none }
  .right{ display:none }
  .mobile{ 
    display:flex; 
    gap:8px; 
    justify-content:flex-end 
    }
  .mobile details{ position:static }

  .mobile .panel{ 
    position:fixed; 
    inset:var(--nav-h) 0 0 0; 
    border-radius:0; 
    width:100%; 
    height:calc(100vh - var(--nav-h));
    overflow:auto 
    }
}
@media (min-width:881px){ .mobile{ display:none } }

/* =========================
   Announcement bar
   ========================= */
.announcement-bar{
  width:100%;
  background:#fafafa;
  box-shadow:0 4px 12px rgba(0,0,0,.10);
  padding:1rem 0;
  display:flex; 
  justify-content:center;
  margin-bottom:1rem;
}
.announcement-content{
  max-width:var(--container);
  width:100%; 
  padding:0 1rem;
  text-align:center; 
  font-size:.875rem; 
  color:#374151;
}
.announcement-link{
  color:#f97316; 
  font-weight:700; 
  text-decoration:underline; 
  margin-left:.25rem;
}

/* =========================
   Main layout
   ========================= */
main{ padding:24px 0; color:var(--muted) }

.layout{
  max-width: var(--container);
  margin:0 auto;
  display:grid; 
  grid-template-columns: var(--sidebar-width) 1fr; /* 2 columns now */
  gap:24px; 
  padding:0 16px 48px;
}

/* Let direct grid children shrink; for inner scroll areas */
.layout > * { min-height: 0; }

/* INNER GRID (columns 2–3 content + RHS) */
.main{
  display: grid;
  grid-template-columns: 1fr 1fr var(--rhs-width); /* content | content | rhs */
  gap: var(--gap);
  min-height: 0; /* allow inner overflow containers to size correctly */
}

/* Sidebar */

/* Sidebar (sticky, capped to viewport, scrolls inside) */
.sidebar{
  position: sticky;
  top: var(--nav-h);
  align-self: start;
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 12px;
  background: #fff;
  max-height: none;
  overflow: visible;
}


.sidebar-head{
  display:flex; 
  align-items:center; 
  justify-content:space-between;
  padding:6px 6px 10px; 
  border-bottom:1px solid var(--border); 
  margin-bottom:10px;
}
.sidebar-head strong{ 
    font-size:14px 
}

/* Search */
.topic-search{ 
    padding-top: 10px;
    padding-bottom: 10px;
    padding-left: 0;
    padding-right: 0;
}

.topic-search input{
  width:100%; 
  height:36px; 
  padding:0 10px;
  border:1px solid var(--border); 
  border-radius:8px; 
  font-size:15px;
  background-color: #f3f4f6;
}

/* Tree: arrows + dots, uniform font size, aligned */
.topic-tree details {
  border-radius: 8px;
  margin: 6px 0;
}

/* Uniform row style for folders (summary) and leaves (a) */
.topic-tree summary,
.topic-item > a {
  position: relative;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 6px;
  padding: 6px 10px 6px 24px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  line-height: 1.2;
  cursor: pointer;
  text-decoration: none;
  background: none;
  margin: 0;
}

/* Remove default disclosure triangle from summary */
.topic-tree summary::-webkit-details-marker {
  display: none;
}

.topic-tree summary:hover,
.topic-item > a:hover {
  background: var(--hover);
  text-decoration: none;
}

/* Remove default list bullets and extra spacing */
.topic-tree ul {
  list-style: none;
  margin: 6px 0 10px;
  padding-left: 24px;
  position: relative;
}


/* Vertical spine only */
.topic-tree ul::before {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  left: 8px;               /* aligns with arrows/dots */
  width: 1px;
  background: var(--border);
}

/* Reset horizontal connectors */
.topic-tree li::before,
.topic-tree li::after {
  content: none !important;
}

/* Arrow markers for folders */
.topic-tree summary::before {
  content: "▶";
  position: absolute;
  left: 6px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 12px;
  color: var(--muted);
}
.topic-tree details[open] > summary::before {
  content: "▼";
}

/* Dot marker for leaf links */
.topic-item > a::before {
  content: "•";
  position: absolute;
  left: 6px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 12px;
  color: var(--muted);
}



/* Content column */
.content{ 
    min-height:60vh; 
    min-width:0 }

/* Accessibility helper */
.sr-only{
  position:absolute; 
  width:1px; 
  height:1px; 
  padding:0; 
  margin:-1px; 
  overflow:hidden;
  clip:rect(0,0,0,0); 
  white-space:nowrap; 
  border:0;
}

/* Stack on small screens */
@media (max-width:980px){
  .layout{ grid-template-columns:1fr }
  .sidebar{ position:static; max-height:none }
}

/* Pinned items: subtle star marker (optional) */
.topic-item.pin > a::before {
  content: "★";
  color: #f59e0b;              /* warm accent */
  font-size: 12px;
  position: absolute;
  left: 6px;
  top: 50%;
  transform: translateY(-50%);
}

/* Divider between pinned and alpha list */
.divider {
  display: block;
  height: 1px;
  background: var(--border);
  margin: 6px 0;
  list-style: none;
  padding: 0;
}

/* Top-level topics more prominent */
.top-topic {
  background: #f3f4f6;       /* soft gray background */
  border: 1px solid var(--border);
  border-radius: 6px;
  font-size: 15px; 
  font-weight: 600;
  padding: 8px 12px 8px 28px !important; /* keep alignment with arrows/dots */
  margin-top: 8px;
  cursor: pointer;
}

/* On hover: slightly darker */
.top-topic:hover {
  background: #e5e7eb;
}

/* Keep arrow markers visible above background */
.top-topic::before {
  z-index: 1;
}

/* Reusable content card for the two center columns */
.content-box{
  border: 1px solid var(--border);
  border-radius: var(--radius);
  background: #fff;
  padding: 16px;
  min-height: 200px; /* optional */
}

/* RHS Social sidebar */
.social-sidebar{
  position: sticky;
  top: var(--nav-h);
  align-self: start;
  max-height: none;         /* let it grow with content */
  overflow: visible;        /* no internal scrolling */
  padding: 0;               /* no white box padding */
  background: none;         /* transparent background */
  border: none;             /* remove column border */
}

/* Simple feed item style */
.feed-item{
  border-bottom: 1px solid var(--border);
  padding: 12px 0;
}
.feed-item:last-child{ border-bottom: 0; }
.feed-item .meta{
  font-size: 12px; color: var(--muted); margin-bottom: 6px;
}

/* Mobile: stack everything */
@media (max-width: 980px){
  .layout{ grid-template-columns: 1fr; }
  .main{ grid-template-columns: 1fr; }
  .span-mid{ height: auto; }
  .main .social-section{ height: auto; }
  .main .social-body{ overflow: visible; padding-right: 0; }
}

/* Middle columns are just containers (no borders) */
.content-col {
  /* no border/background; just a holder */
}



.content-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
    grid-auto-rows: var(--card-row-h);  /* one row = our shared var */
  gap: var(--gap);
}

/* Reusable content card – matches sidebar outline */
.content-card {
  height: 100%;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  background: #fff;
  padding: 16px;
  overflow: hidden;/* tidy overflow if content is tall */
  display: flex; 
  flex-direction: column; 
  gap: 8px;
}

/* Optional utility if a card should span both columns */
.content-card.span-2 { grid-column: 1 / -1; }

/* Nice default headings/text inside cards */
.content-card h3 { margin: 0; font-size: 16px; color: var(--text); }
.content-card p  { margin: 0; font-size: 14px; color: var(--muted); }

/* Mobile: stack cards (1 column) and let height be natural */
@media (max-width: 980px){
  .content-grid{
    grid-template-columns: 1fr;
    grid-auto-rows: auto;
  }
  .content-card{ height: auto; }
}

/* --- Social sidebar sections --- */

.social-section {
  border: 1px solid var(--border);
  border-radius: var(--radius);
  background: #fff;
  padding: 16px;
  margin-bottom: 16px;

}
.social-section:last-child {margin-bottom: 0}

.social-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 12px;
  flex: 0 0 auto; 
}

.social-title {
  display: flex;
  align-items: center;
  gap: 8px;
}
.social-viewall {
  font-size: 12px;
  color: var(--muted);
  text-decoration: underline;
}

/* Brand badges (minimal) */
.badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 20px; height: 20px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 700;
  color: #fff;
}
.badge.linkedin { background: #0a66c2; }  /* LinkedIn blue */
.badge.reddit   { background: #ff4500; }  /* Reddit orange */
.badge.bluesky  { background: #0085ff; }  /* Bluesky blue */
.badge.x        { background: #111827; }  /* X near-black */

.divider-dot { color: var(--muted); font-size: 14px; }

/* Post cards: dynamic height by content */

.social-item {
  border: 1px solid var(--border);
  border-radius: var(--radius);
  background: #fff;
  padding: 16px;
  margin-bottom: 12px; 
}
.social-item:last-child { margin-bottom: 0; }

.social-meta {
  font-size: 12px;
  color: var(--muted);
  margin-bottom: 6px;
}
.social-text {
  margin: 0 0 8px 0;
  font-size: 14px;
  color: var(--text);
}
.social-link {
  font-size: 13px;
  text-decoration: underline;
}

/* Desktop placement + force inner scrolling on RHS */
/* Content blocks span columns 2–3 */

@media (min-width: 981px){
  .span-mid { 
    grid-column: 1 / span 2;
    height: var(--content-block-h);
    min-height: 0;
    align-self: stretch;
  }

  /* RHS social section sits in column 3 and matches content height */
  .main .social-section{
    grid-column: 3;
    display: flex;
    flex-direction: column;
    height: var(--content-block-h);
    min-height: 0;
    overflow: hidden;                  /* contain scrollable child */
  }

  .main .social-header{
    flex: 0 0 auto;
  }

.main .social-body{
    flex: 1 1 auto;
    min-height: 0;
    overflow-y: auto;                  /* inner scroll */
    -webkit-overflow-scrolling: touch;
    padding-right: 8px;                /* space beside scrollbar */
    box-sizing: content-box;
  }
}


/* Inner posts flex naturally inside */
.social-post {
  margin-bottom: 12px;
}
.social-post:last-child {
  margin-bottom: 0;
}

/* Mobile stays single column via your existing media rule */

/* (Optional) nicer scrollbar on desktop WebKit */
@media (min-width: 981px){
  .social-body::-webkit-scrollbar{ width: 8px; }
  .social-body::-webkit-scrollbar-thumb{ background: #e5e7eb; border-radius: 8px; }
  .social-body::-webkit-scrollbar-track{ background: transparent; }
}

/* Mobile: let sections expand naturally (no inner scroll) */
@media (max-width: 980px){
  .social-section{ height: auto; }
  .social-body{ overflow: visible; }
}


/* On mobile, only show 2 items per social section */
@media (max-width: 980px){
  .social-body .social-item:nth-of-type(n+3) {
    display: none;
  }
}